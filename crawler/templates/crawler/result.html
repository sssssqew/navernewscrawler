{% extends 'crawler/base.html' %}

{% block content %}
{% if record_data %}
<!-- <div class="row"> -->
	{% for key,value in record_data.items %}
    <!-- <div class="col-md-6 col-md-offset-3">
        <div class="panel panel-default">
            <div class="panel-heading">
    
            </div>
            <div class="panel-body">
            	
			<a href="#" class="pull-right">graph</a>
           </div>      
        </div>
    </div> -->
    {% endfor %}
<!-- </div> -->
{% endif %}

<div id="chart"  style="margin-top:7%;"></div>
<script type="text/javascript">
	var columns_json = '{{ columns|safe }}';
	console.log(columns_json);
	var col = JSON.parse(columns_json);
	console.log(col);

	var chart = c3.generate({
	    data: {
	        x: 'x',
	//        xFormat: '%Y%m%d', // 'xFormat' can be used as custom format of 'x'
	        columns: col
	    },
	    axis: {
	        x: {
	            type: 'timeseries',
	            tick: {
	                format: '%Y-%m-%d'
	            }
	        }
	    },
	    grid: {
	        x: {
	            show: true
	        },
	        y: {
	            show: true
	        }
	    }
	});
</script>
{% endblock %}